<!doctype html>{% templatetag openblock %} load pipeline static {% templatetag closeblock %}
<html lang="en">
<head>
  {% templatetag openblock %} block meta {% templatetag closeblock %}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  {% templatetag openblock %} endblock meta {% templatetag closeblock %}

  <title>{% templatetag openblock %} block title {% templatetag closeblock %}Bem vindo{% templatetag openblock %} endblock title {% templatetag closeblock %}</title>

  {% templatetag openblock %} stylesheet 'base' {% templatetag closeblock %}

  {% templatetag openblock %} block css {% templatetag closeblock %}
  {% templatetag openblock %} endblock css {% templatetag closeblock %}
</head>
<body>
  {% templatetag openblock %} block body {% templatetag closeblock %}
    <div id="app">
      <b-container fluid>
        <b-row>
          <b-table striped hover :items="users" :fields="fields"></b-table>
        </b-row>
      </b-container>
    </div>
  {% templatetag openblock %} endblock body {% templatetag closeblock %}

  {% templatetag openblock %} javascript 'main' {% templatetag closeblock %}

  {% templatetag openblock %} block page_scripts {% templatetag closeblock %}
    <script>
      new Vue({
        el: '#app',
        delimiters: ['[[', ']]'],
        data: function () {
          return {
            fields: ['id', 'name', 'username'],
            users: []
          }
        },
        methods: {
          carregarUsuarios: function (params) {
            var self = this;
            self.User.query(params).then(function (response) {
              self.users = response.data;
            });
          }
        },
        mounted: function () {
          this.carregarUsuarios();
        }
      });
    </script>
  {% templatetag openblock %} endblock page_scripts {% templatetag closeblock %}
</body>
</html>